.\" Automatically generated by Pandoc 3.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "STATIME.TOML" "5" "" "statime 0.1.0" "statime"
.hy
.SH NAME
.PP
\f[V]statime.toml\f[R] - configuration file for the statime ptp-daemon
.SH DESCRIPTION
.PP
Configuration of ntpd-rs happens in the \f[V]statime.toml\f[R]
configuration format.
The toml format is in lots of ways similar to a simple ini with several
extensions allowing a json-like syntax.
.PP
The statime configuration file consists of several sections, each of
which configures a separate part of the ptp-daemon process.
Each of the secions is described in the rest of this document.
Many settings will have defaults, which will be indicated by each
configuration setting shown.
.SH CONFIGURATION
.TP
\f[V]identity\f[R] = \f[I]clock identity\f[R] (\f[B]unset\f[R])
The unique identity of this clock.
A clock identity is encoded as a 16-character hexadecimal string, for
example \f[V]identity = \[dq]00FFFFFFFFFFFFFB\[dq]\f[R].
If unset the clock identity is derived from a MAC address.
.TP
\f[V]domain\f[R] = \f[I]u8\f[R] (\f[B]0\f[R])
The PTP domain of this instance.
All instances in domain are synchronized to the Grandmaster Clock of the
domain, but are not necessarily synchronized to PTP clocks in another
domain.
.TP
\f[V]sdo_id\f[R] = \f[I]u12\f[R] (\f[B]0\f[R])
The \[lq]source domain identity\[rq] of this PTP instance.
Together with the \f[V]domain\f[R] it identifies a domain.
.TP
\f[V]priority1\f[R] = \f[I]priority\f[R] (\f[B]128\f[R])
A tie breaker for the best master clock algorithm in the range
\f[V]0..256\f[R].
.TP
\f[V]priority2\f[R] = \f[I]priority\f[R] (\f[B]128\f[R])
A tie breaker for the best master clock algorithm in the range
\f[V]0..256\f[R].
.SS \f[V][[port]]\f[R]
.TP
\f[V]interface\f[R] = \f[I]interface name\f[R]
The network interface of this PTP port.
For instance \f[V]\[dq]lo\[dq]\f[R] or \f[V]\[dq]enp0s31f6\[dq]\f[R]
.TP
\f[V]announce_interval\f[R] = \f[I]interval\f[R] (\f[B]1\f[R])
How often an announce message is sent by a master.
Defined as an exponent of 2, so a value of 1 means every 2\[ha]1 = 2
seconds.
.TP
\f[V]sync_interval\f[R] = \f[I]interval\f[R] (\f[B]0\f[R])
How often sync message is sent by a master.
Defined as an exponent of 2, so a value of 0 means every 2\[ha]0 = 1
seconds.
.TP
\f[V]announce_receipt_timeout\f[R] = \f[I]number of announce intervals\f[R] (\f[B]3\f[R])
Number of announce intervals to wait for announce messages from other
masters before the port becomes master itself.
.TP
\f[V]delay_asymmetry\f[R] = \f[I]nanoseconds\f[R] (\f[B]0\f[R])
Correct for a difference between slave-to-master and master-to-slave
propagation time.
The value is positive when the slave-to-master propagation time is
longer than the master-to-slave propagation time.
.TP
\f[V]delay_mechanism\f[R] = \f[I]interval\f[R] (\f[B]0\f[R])
How often delay request messages are sent by a slave in end-to-end mode.
Currently the only supported delay mechanism is end-to-end (E2E).
Defined as an exponent of 2, so a value of 0 means every 2\[ha]0 = 1
seconds
.TP
\f[V]master_only\f[R] = \f[I]bool\f[R] (\f[B]false\f[R])
The port is always a master instance, and will never become a slave
instance.
.TP
\f[V]hardware_clock\f[R] = \f[I]path\f[R] (\f[B]unset\f[R])
Path to a hardware clock device, for instance
\f[V]\[dq]/dev/ptp0\[dq]\f[R].
.TP
\f[V]acceptable_master_list\f[R] = [ \f[I]clock identity\f[R], .. ] (\f[B]unset\f[R])
List of clock identities that this port will accept as its master.
A clock identity is encoded as a 16-character hexadecimal string, for
example \f[V]acceptable_master_list = [\[dq]00FFFFFFFFFFFFFB\[dq]]\f[R].
The default is to accept all clock identities.
